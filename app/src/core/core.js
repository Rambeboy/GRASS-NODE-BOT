function _0x15cd(_0x3e572c,_0x5590e9){const _0x455703=_0x4557();return _0x15cd=function(_0x15cdcb,_0x5f52f9){_0x15cdcb=_0x15cdcb-0x89;let _0xdec75c=_0x455703[_0x15cdcb];return _0xdec75c;},_0x15cd(_0x3e572c,_0x5590e9);}const _0x335d99=_0x15cd;(function(_0x120587,_0x17de2c){const _0x2f8745=_0x15cd,_0x19c16b=_0x120587();while(!![]){try{const _0x29aa49=-parseInt(_0x2f8745(0x97))/0x1*(parseInt(_0x2f8745(0x9b))/0x2)+-parseInt(_0x2f8745(0x8f))/0x3+-parseInt(_0x2f8745(0xa6))/0x4+parseInt(_0x2f8745(0xf3))/0x5+-parseInt(_0x2f8745(0xfc))/0x6+-parseInt(_0x2f8745(0xb7))/0x7*(-parseInt(_0x2f8745(0x9f))/0x8)+parseInt(_0x2f8745(0xc4))/0x9;if(_0x29aa49===_0x17de2c)break;else _0x19c16b['push'](_0x19c16b['shift']());}catch(_0x20e99b){_0x19c16b['push'](_0x19c16b['shift']());}}}(_0x4557,0x6ede3));import{HttpsProxyAgent}from'https-proxy-agent';import{SocksProxyAgent}from'socks-proxy-agent';import{Helper}from'../utils/helper.js';function _0x4557(){const _0x429353=['7ZTQLlb','/activeIps','Attempting\x20to\x20reconnect\x20(#','PONG\x20','Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket,\x20Delaying\x20for\x2010\x20Min\x20Before\x20next\x20reconnect.','WebSocket\x20already\x20connected.','4.26.2','proxy2.wynd.network:4444','firstOrCreateSession','getRandomValues','worker','toString','result','8315901rmvahv','WebSocket\x20Connection\x20Closed\x20Cleanly','PING','WebSocket\x20closed\x20unexpectedly:\x20','WebSocket\x20Connection\x20','Received\x20unknown\x20action:\x20','No\x20existing\x20WSS\x20running','onclose','reduce','pingCount','extension','readyState','INIT\x20WSS','send','startsWith','Received\x20message\x20on\x20Worker\x20','info','\x20Action','socket','startPing','status','wssReconnectAttempts','maxwssReconnectAttempts','password','PING\x20','reason','WebSocket\x20error:\x20','Connecting\x20to\x20websocket.','PONG','/epochEarnings?input=%7B%22limit%22:1%7D','pingTimeout','acc','action','replace','data','fetch','Sending\x20','parse','wasClean','accessToken','permessage-deflate;\x20client_max_window_bits','ipAddress','chrome-extension://lkbnfiajjmbhnfledhphioinpickokdi','AUTH','Sending\x20PONG\x20','proxy','connectWebSocket','3734225aijpDV','pongCount','deviceId','Successfully\x20Get\x20Epoch\x20Point...','Connected\x20to\x20websocket,\x20Websocket\x20connection\x20opened','wss://proxy2.wynd.network:4444/','catch','stopPing','/retrieveUser','3097350claFju','1.0.0','http','login','user','Failed\x20to\x20login\x20posible\x20wrong\x20Email\x20/\x20Password','refreshToken','Getting\x20User\x20Information...','\x20Sending\x20PING','Getting\x20Epoch\x20Earning...','1721319ocvYlT','Sending\x20PING\x20','OPEN','/login','totalPoints','point',')...','getActiveNetwork','24767aiVgVi','delay','\x20Sended','reconnectWebSocket','46wjHIfB','socks','now','initDevice','5138960ibxWXf','sendPong','getUser','getSessionByProxy','handleError','Use\x20Session\x20','min','797800MSGbbm','token','socketURL','onmessage','Worker\x20Initialized...','email','network','sendPing','uuidv4','device_id','DNS','GET','pingInterval','handleAuth','stringify','Received\x20','Upgrade'];_0x4557=function(){return _0x429353;};return _0x4557();}import{API}from'./api/api.js';import _0x391a8d from'../utils/logger.js';import{v3 as _0x5398f5,v4 as _0x160634}from'uuid';import{WebSocket}from'ws';import _0x2e65d0 from'./db/sqlite.js';export default class Core extends API{constructor(_0x46fd5e,_0x575cb4,_0x32911e){const _0x3349c8=_0x15cd;super('https://api.getgrass.io',_0x32911e),this[_0x3349c8(0xe3)]=_0x46fd5e,this[_0x3349c8(0xd6)]=null,this[_0x3349c8(0xd9)]=0x0,this[_0x3349c8(0xda)]=0x1,this[_0x3349c8(0xb2)]=0x0,this[_0x3349c8(0x94)]=0x0,this['pingCount']=0x0,this[_0x3349c8(0xf4)]=0x0,this[_0x3349c8(0xb2)]=null,this['pingTimeout']=null,this['worker']=_0x575cb4;}['uuidv4'](){const _0x3f8c1e=_0x15cd;return([0x989680]+-0x3e8+-0xfa0+-0x1f40+-0x174876e800)[_0x3f8c1e(0xe5)](/[018]/g,_0x58dcf6=>(_0x58dcf6^crypto[_0x3f8c1e(0xc0)](new Uint8Array(0x1))[0x0]&0xf>>_0x58dcf6/0x4)[_0x3f8c1e(0xc2)](0x10));}async[_0x335d99(0xff)](){const _0x31cde7=_0x335d99;try{await Helper['delay'](0x3e8,this[_0x31cde7(0xc1)],'Try\x20to\x20login...',this);const _0xba85f3=await this[_0x31cde7(0xe7)](_0x31cde7(0x92),'POST',undefined,{'username':this[_0x31cde7(0xe3)][_0x31cde7(0xab)],'password':this[_0x31cde7(0xe3)][_0x31cde7(0xdb)]});if(_0xba85f3[_0x31cde7(0xd8)]==0xc8)this[_0x31cde7(0xa7)]=_0xba85f3[_0x31cde7(0xc3)][_0x31cde7(0xe6)][_0x31cde7(0xeb)],this[_0x31cde7(0x8b)]=_0xba85f3[_0x31cde7(0xc3)][_0x31cde7(0xe6)][_0x31cde7(0x8b)],this['user']=_0xba85f3[_0x31cde7(0x89)];else throw _0xba85f3;}catch(_0x2d0883){_0x2d0883['message']['includes'](0x190)?await Helper['delay'](0xbb8,this[_0x31cde7(0xc1)],_0x31cde7(0x8a),this):await this['handleError'](_0x2d0883);}}async[_0x335d99(0x9e)](){const _0x1a2f30=_0x335d99;await Helper[_0x1a2f30(0x98)](0x3e8,this[_0x1a2f30(0xc1)],'Initializing\x20Worker...',this);let _0x54577d=await _0x2e65d0[_0x1a2f30(0xa2)](this[_0x1a2f30(0xf1)]);_0x54577d?_0x54577d=await _0x2e65d0[_0x1a2f30(0xbf)](this[_0x1a2f30(0xf1)],_0x54577d[_0x1a2f30(0xaf)]):_0x54577d=await _0x2e65d0[_0x1a2f30(0xbf)](this[_0x1a2f30(0xf1)],_0x5398f5(this[_0x1a2f30(0xf1)],_0x5398f5[_0x1a2f30(0xb0)])['toString']()),_0x391a8d[_0x1a2f30(0xd4)](_0x1a2f30(0xa4)+JSON[_0x1a2f30(0xb4)](_0x54577d)),this[_0x1a2f30(0xf5)]=_0x54577d[_0x1a2f30(0xaf)],await Helper[_0x1a2f30(0x98)](0x3e8,this['worker'],_0x1a2f30(0xaa),this);}async[_0x335d99(0xa1)](){const _0x5abf11=_0x335d99;await Helper[_0x5abf11(0x98)](0x3e8,this[_0x5abf11(0xc1)],_0x5abf11(0x8c),this);const _0x141b09=await this[_0x5abf11(0xe7)](_0x5abf11(0xfb),'GET',this[_0x5abf11(0xa7)]);_0x141b09[_0x5abf11(0xd8)]==0xc8?this[_0x5abf11(0x89)]=_0x141b09[_0x5abf11(0xc3)][_0x5abf11(0xe6)]:await this[_0x5abf11(0xa3)](_0x141b09);}async[_0x335d99(0x96)](){const _0x2b7242=_0x335d99;try{await Helper[_0x2b7242(0x98)](0x3e8,this['worker'],'Getting\x20Actives\x20Network\x20Information...',this);const _0x167df9=await this[_0x2b7242(0xe7)](_0x2b7242(0xb8),'GET',this['token']);_0x167df9['status']==0xc8?this[_0x2b7242(0xac)]=_0x167df9[_0x2b7242(0xc3)]['data']['find'](_0x26a85e=>_0x26a85e[_0x2b7242(0xed)]==this['IP']):await this[_0x2b7242(0xa3)](_0x167df9);}catch(_0x440855){await this[_0x2b7242(0xa3)](_0x440855);}}async['getPoint'](_0x18779f){const _0xfcfe01=_0x335d99;try{if(_0x18779f)await Helper[_0xfcfe01(0x98)](0x3e8,this[_0xfcfe01(0xc1)],_0xfcfe01(0x8e),this);const _0x77bdda=await this[_0xfcfe01(0xe7)](_0xfcfe01(0xe1),_0xfcfe01(0xb1),this[_0xfcfe01(0xa7)]);if(_0x77bdda[_0xfcfe01(0xd8)]==0xc8){const _0x22cb4b=_0x77bdda['result'][_0xfcfe01(0xe6)][_0xfcfe01(0xe6)];this[_0xfcfe01(0x94)]=_0x22cb4b[_0xfcfe01(0xcc)]((_0x1747aa,_0x544d4e)=>{const _0x41e864=_0xfcfe01;return _0x1747aa+(_0x544d4e[_0x41e864(0x93)]||0x0)+(_0x544d4e['referralPoints']||0x0)+(_0x544d4e['rewardPoints']||0x0);},0x0);if(_0x18779f)await Helper[_0xfcfe01(0x98)](0x3e8,this['worker'],_0xfcfe01(0xf6),this);}else this[_0xfcfe01(0xa3)](_0x77bdda);}catch(_0x1acd8e){this[_0xfcfe01(0xa3)](_0x1acd8e);}}async[_0x335d99(0xf2)](){const _0x5e8dbc=_0x335d99;try{_0x391a8d[_0x5e8dbc(0xd4)](_0x5e8dbc(0xd0));if(this[_0x5e8dbc(0xd6)]&&this[_0x5e8dbc(0xd6)][_0x5e8dbc(0xcf)]===WebSocket['OPEN']){await Helper[_0x5e8dbc(0x98)](0x0,this[_0x5e8dbc(0xc1)],_0x5e8dbc(0xbc),this);return;}_0x391a8d[_0x5e8dbc(0xd4)](_0x5e8dbc(0xca)),await this['ipChecker']()[_0x5e8dbc(0xf9)](_0x36d994=>{const _0x4f50f0=_0x5e8dbc;_0x391a8d[_0x4f50f0(0xd4)]('FAILED\x20TO\x20GET\x20IP');}),await Helper[_0x5e8dbc(0x98)](0x0,this[_0x5e8dbc(0xc1)],_0x5e8dbc(0xdf),this);let _0x4be0c0;if(this['proxy']){if(this[_0x5e8dbc(0xf1)][_0x5e8dbc(0xd2)](_0x5e8dbc(0xfe)))_0x4be0c0=new HttpsProxyAgent(this[_0x5e8dbc(0xf1)]);if(this[_0x5e8dbc(0xf1)][_0x5e8dbc(0xd2)](_0x5e8dbc(0x9c)))_0x4be0c0=new SocksProxyAgent(this['proxy']);}this['socketURL']=_0x5e8dbc(0xf8),this['socket']=new WebSocket(this[_0x5e8dbc(0xa8)],{'agent':_0x4be0c0,'headers':{'User-Agent':this['ua'],'connection':_0x5e8dbc(0xb6),'host':_0x5e8dbc(0xbe),'origin':_0x5e8dbc(0xee),'sec-websocket-extensions':_0x5e8dbc(0xec),'sec-websocket-version':'13'}}),this['socket']['onopen']=async()=>{const _0x37542c=_0x5e8dbc;await Helper[_0x37542c(0x98)](0x0,this[_0x37542c(0xc1)],_0x37542c(0xf7),this),this[_0x37542c(0xd9)]=0x0;},this[_0x5e8dbc(0xd6)][_0x5e8dbc(0xa9)]=async _0x1598a1=>{const _0x3627d5=_0x5e8dbc,_0x408f62=JSON[_0x3627d5(0xe9)](_0x1598a1[_0x3627d5(0xe6)]),_0x1a40b6=_0x408f62['action'];await Helper[_0x3627d5(0x98)](0x0,this[_0x3627d5(0xc1)],_0x3627d5(0xd3)+this['worker']+':\x20'+JSON[_0x3627d5(0xb4)](_0x408f62),this);switch(_0x1a40b6){case _0x3627d5(0xef):await this[_0x3627d5(0xb3)](_0x408f62);break;case _0x3627d5(0xe0):await Helper[_0x3627d5(0x98)](0x0,this[_0x3627d5(0xc1)],_0x3627d5(0xb5)+_0x1a40b6+_0x3627d5(0xd5),this),await this[_0x3627d5(0xa0)](_0x408f62);break;default:await Helper['delay'](0x1f4,this[_0x3627d5(0xc1)],_0x3627d5(0xc9)+_0x1a40b6,this);break;}},this[_0x5e8dbc(0xd6)]['onerror']=async _0x5e267b=>{const _0x3b8f6f=_0x5e8dbc;await Helper['delay'](0x0,this['worker'],_0x3b8f6f(0xde)+JSON[_0x3b8f6f(0xb4)](_0x5e267b),this);},this[_0x5e8dbc(0xd6)][_0x5e8dbc(0xcb)]=async _0x330ca3=>{const _0x2c4416=_0x5e8dbc;!_0x330ca3[_0x2c4416(0xea)]?await Helper['delay'](0xbb8,this[_0x2c4416(0xc1)],_0x2c4416(0xc7)+_0x330ca3['code']+'\x20-\x20'+_0x330ca3[_0x2c4416(0xdd)],this):await Helper[_0x2c4416(0x98)](0xbb8,this['worker'],_0x2c4416(0xc5),this),await this[_0x2c4416(0xfa)](),await this['reconnectWebSocket']();};}catch(_0xaa435e){throw _0xaa435e;}}async[_0x335d99(0x9a)](){const _0x3717be=_0x335d99;if(this[_0x3717be(0xd9)]<this[_0x3717be(0xda)]){this['wssReconnectAttempts']+=0x1;const _0x251767=Math[_0x3717be(0xa5)](0x1388,0x3e8*this[_0x3717be(0xd9)]);await Helper[_0x3717be(0x98)](_0x251767,this['worker'],_0x3717be(0xb9)+this[_0x3717be(0xd9)]+_0x3717be(0x95),this),await this[_0x3717be(0xf2)]();}else{const _0x3bacea=_0x3717be(0xbb);await Helper[_0x3717be(0x98)](0xea60*0xa,this[_0x3717be(0xc1)],_0x3bacea,this),await this[_0x3717be(0xf2)]();}}async[_0x335d99(0xb3)](_0x1b1634){const _0x55e141=_0x335d99,_0x58aefd=JSON['stringify']({'id':_0x1b1634['id'],'origin_action':_0x55e141(0xef),'result':{'browser_id':this[_0x55e141(0xf5)],'user_id':this[_0x55e141(0xe3)]instanceof Object?this[_0x55e141(0x89)]['userId']:this[_0x55e141(0xe3)],'user_agent':this['ua'],'timestamp':Date[_0x55e141(0x9d)](),'device_type':_0x55e141(0xce),'version':_0x55e141(0xbd),'extension_id':'lkbnfiajjmbhnfledhphioinpickokdi'}});_0x391a8d[_0x55e141(0xd4)](_0x58aefd),await Helper[_0x55e141(0x98)](0x0,this[_0x55e141(0xc1)],_0x55e141(0xe8)+_0x1b1634[_0x55e141(0xe4)]+'\x20Response',this),this[_0x55e141(0xd6)]['send'](_0x58aefd),this[_0x55e141(0xd7)](),await Helper[_0x55e141(0x98)](0x0,this[_0x55e141(0xc1)],'Auth\x20Response\x20Sended,\x20Delaying\x201\x20min\x20before\x20sending\x20PING',this);}async[_0x335d99(0xad)](){const _0x597a00=_0x335d99,_0x241c6c=JSON[_0x597a00(0xb4)]({'id':this[_0x597a00(0xae)](),'version':_0x597a00(0xfd),'action':_0x597a00(0xc6),'data':{}});_0x391a8d[_0x597a00(0xd4)](_0x241c6c),this[_0x597a00(0xcd)]=this[_0x597a00(0xcd)]+0x1,await Helper[_0x597a00(0x98)](0x0,this['worker'],_0x597a00(0x90)+this[_0x597a00(0xcd)],this),this[_0x597a00(0xd6)]['send'](_0x241c6c),this[_0x597a00(0xe3)]instanceof Object&&!this[_0x597a00(0xac)]&&await this[_0x597a00(0x96)](),await Helper[_0x597a00(0x98)](0x0,this['worker'],_0x597a00(0xdc)+this[_0x597a00(0xcd)]+_0x597a00(0x99),this);}async[_0x335d99(0xd7)](){const _0x3ea3fd=_0x335d99;!this[_0x3ea3fd(0xb2)]&&(this[_0x3ea3fd(0xe2)]=setTimeout(async()=>{const _0x4937a9=_0x3ea3fd;this[_0x4937a9(0xd6)]&&this[_0x4937a9(0xd6)][_0x4937a9(0xcf)]===WebSocket[_0x4937a9(0x91)]&&(await Helper[_0x4937a9(0x98)](0x0,this[_0x4937a9(0xc1)],_0x4937a9(0xc8)+this[_0x4937a9(0xd6)][_0x4937a9(0xcf)]+_0x4937a9(0x8d),this),await this[_0x4937a9(0xad)](),this['pingInterval']=setInterval(async()=>{const _0x2da592=_0x4937a9;this[_0x2da592(0xd6)]&&this['socket']['readyState']===WebSocket['OPEN']&&await this[_0x2da592(0xad)]();},0x1d4c0));},0xea60));}async[_0x335d99(0xfa)](){const _0x81aaaa=_0x335d99;this[_0x81aaaa(0xe2)]&&(clearTimeout(this[_0x81aaaa(0xe2)]),this[_0x81aaaa(0xe2)]=null),this['pingInterval']&&(clearInterval(this[_0x81aaaa(0xb2)]),this['pingInterval']=null);}async[_0x335d99(0xa0)](_0x26ad97){const _0x21ed1e=_0x335d99;this['pongCount']=this[_0x21ed1e(0xf4)]+0x1,await Helper['delay'](0x0,this[_0x21ed1e(0xc1)],_0x21ed1e(0xf0)+this[_0x21ed1e(0xf4)],this),this[_0x21ed1e(0xd6)][_0x21ed1e(0xd1)](JSON['stringify']({'id':_0x26ad97['id'],'origin_action':_0x21ed1e(0xe0)})),await Helper[_0x21ed1e(0x98)](0x0,this[_0x21ed1e(0xc1)],_0x21ed1e(0xba)+this[_0x21ed1e(0xf4)]+'\x20Sended',this);}async['handleError'](_0x8bbf36){throw _0x8bbf36;}}